{"version":3,"sources":["webpack:///./src/components/rule-header.js","webpack:///./src/templates/implementer.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./src/components/list-with-heading.js","webpack:///./src/components/table-testcase-findings.js","webpack:///./src/components/list-of-implementations.js","webpack:///./src/components/badge.js","webpack:///./src/components/count-implementations.js","webpack:///./src/components/rule-card.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/fuzzy-search/src/Helper.js","webpack:///./node_modules/fuzzy-search/src/FuzzySearch.js","webpack:///./node_modules/react-use/esm/useDebounce.js","webpack:///./node_modules/react-use/esm/useTimeoutFn.js","webpack:///./src/components/rules-filter.js","webpack:///./src/pages/rules.js"],"names":["RuleHeader","ruleId","ruleName","children","converter","showdown","Converter","className","to","id","dangerouslySetInnerHTML","__html","makeHtml","Implementer","location","data","implementerData","sitePage","context","JSON","parse","organisation","toolName","actMapping","description","title","completeMaps","filterByConsistency","incompleteMaps","length","allRules","edges","map","node","frontmatter","name","rule_type","impl","find","isIncomplete","key","data-rule-id","value","consistency","mapping","showIncomplete","body","query","items","values","filter","includes","$export","$values","S","it","ListWithHeading","cls","headingTemplate","itemTemplate","item","defaultProps","heading","TableTestcaseFindings","implementations","defaultFilter","index","implementationId","Object","result","findings","url","testcase","expected","actual","actuals","relativeUrl","getHyphenatedString","groupFindingsOfImplementations","ListOfImplementations","getPageContent","Badge","CountImplementations","count","implementationMetrics","metric","RuleCard","type","accessibilityRequirements","inputRules","accessibility_requirements","inputRuleId","atomicRule","rule","aHref","fields","slug","replace","href","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","prototype","Helper","this","object","path","firstSegment","remaining","dotIndex","list","arguments","undefined","indexOf","slice","toString","call","getDescendantProperty","push","FuzzySearch","haystack","keys","options","Array","isArray","assign","caseSensitive","sort","results","score","isMatch","y","propertyValues","found","z","_score","a","b","String","toLocaleLowerCase","indexes","nearestIndexesFor","letters","split","indexesOfFirstLetter","forEach","startingIndex","loopingIndex","letter","letterIndexes","match","useDebounce","fn","ms","deps","_a","ready","timeout","callback","isReady","current","set","clearTimeout","setTimeout","clear","useTimeoutFn","cancel","reset","RulesFilter","onFilter","minimumFilterTextLength","debounceTime","useState","filterText","setFilterText","onSubmit","e","preventDefault","htmlFor","placeholder","onChange","rules","isSmallViewport","setIsSmallViewport","renderedRules","setRenderedRules","queries","small","matches","classnames","sm","search","nameOfA","toLowerCase","nameOfB","localeCompare","fastmatterAttributes","input_rules"],"mappings":"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","file":"component---src-pages-rules-js-77ecb379264304459e45.js","sourcesContent":["import React from 'react'\nimport { Link } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport showdown from 'showdown'\n\nimport './rule-header.scss'\n\nconst RuleHeader = ({ ruleId, ruleName, children }) => {\n\tconst converter = new showdown.Converter()\n\n\treturn (\n\t\t<div className=\"ruleHeader\">\n\t\t\t<Link to={`/rules/${ruleId}`}>\n\t\t\t\t<h2 id={`id-${ruleId}`} dangerouslySetInnerHTML={{ __html: converter.makeHtml(ruleName) }}></h2>\n\t\t\t</Link>\n\t\t\t<div className=\"childContainer\">{children}</div>\n\t\t</div>\n\t)\n}\n\nRuleHeader.propTypes = {\n\truleId: PropTypes.string.isRequired,\n\truleName: PropTypes.string.isRequired,\n}\n\nexport default RuleHeader\n","import React from 'react'\nimport { graphql } from 'gatsby'\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\nimport ListOfImplementations from '../components/list-of-implementations'\nimport RuleHeader from '../components/rule-header'\nimport Badge from '../components/badge'\nimport Note from '../components/note'\n\nimport './implementer.scss'\n\nconst Implementer = ({ location, data }) => {\n\tconst { implementerData } = data.sitePage.context\n\tconst { organisation, toolName, actMapping, description } = JSON.parse(implementerData)\n\n\tconst title = `Implementation report of ${toolName} (${organisation})`\n\tconst completeMaps = filterByConsistency(actMapping, ['consistent', 'partially-consistent'])\n\tconst incompleteMaps = filterByConsistency(actMapping, ['inconsistent'])\n\n\tif (!completeMaps || !completeMaps.length) {\n\t\treturn (\n\t\t\t<Layout location={location}>\n\t\t\t\t<SEO title={title} />\n\t\t\t\t<section className=\"page-implementer\">\n\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t\t<Note\n\t\t\t\t\t\ttitle={`Insufficient implementation data`}\n\t\t\t\t\t\tbody={`There are no known implementations. This is likely because the rule has been updated and the implementation report has not yet been updated.`}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t</Layout>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Layout location={location}>\n\t\t\t<SEO title={title} />\n\t\t\t<section className=\"page-implementer\">\n\t\t\t\t{/* title  */}\n\t\t\t\t<h1>{title}</h1>\n\t\t\t\t{/* desc  */}\n\t\t\t\t{description && <p>{description}</p>}\n\t\t\t\t{/* impl  */}\n\t\t\t\t{data.allRules.edges.map(({ node }) => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tfrontmatter: { id, name, rule_type },\n\t\t\t\t\t} = node\n\n\t\t\t\t\tconst impl = completeMaps.find(({ ruleId }) => ruleId === id)\n\t\t\t\t\tconst isIncomplete = incompleteMaps.find(({ ruleId }) => ruleId === id)\n\n\t\t\t\t\tif (!impl && isIncomplete) {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!impl) {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * show complete implementation tabulation\n\t\t\t\t\t */\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"cardItem\" key={id} data-rule-id={id}>\n\t\t\t\t\t\t\t<RuleHeader ruleId={id} ruleName={name}>\n\t\t\t\t\t\t\t\t<Badge title={`Id:`} value={id} />\n\t\t\t\t\t\t\t\t<Badge title={`Type:`} value={rule_type} />\n\t\t\t\t\t\t\t\t<Badge title={`Consistency:`} value={impl.consistency} />\n\t\t\t\t\t\t\t</RuleHeader>\n\t\t\t\t\t\t\t<ListOfImplementations mapping={[impl]} showIncomplete={false} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</section>\n\t\t</Layout>\n\t)\n}\n\nexport default Implementer\n\nexport const query = graphql`\n\tquery($path: String) {\n\t\tsitePage(path: { eq: $path }) {\n\t\t\tcontext {\n\t\t\t\tfilename\n\t\t\t\ttitle\n\t\t\t\timplementerData\n\t\t\t}\n\t\t}\n\t\tallRules: allMarkdownRemark(\n\t\t\tsort: { fields: [frontmatter___name], order: ASC }\n\t\t\tfilter: { fields: { markdownType: { eq: \"rules\" } } }\n\t\t) {\n\t\t\ttotalCount\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tfields {\n\t\t\t\t\t\tfileName {\n\t\t\t\t\t\t\trelativePath\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmarkdownType\n\t\t\t\t\t\tslug\n\t\t\t\t\t\tfastmatterAttributes\n\t\t\t\t\t}\n\t\t\t\t\tfrontmatter {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t\trule_type\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`\n\n/**\n * Filter a given set of implementations based on consistency\n * @param {Array<Object>} items array of implementations\n * @param {Array<String>} values allowed values\n * @returns {Array<Object>}\n */\nexport function filterByConsistency(items, values) {\n\treturn items.filter(({ consistency }) => {\n\t\treturn values.includes(consistency)\n\t})\n}\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst ListWithHeading = ({ cls, headingTemplate, itemTemplate, items = [] }) => {\n\treturn (\n\t\t<div className={cls}>\n\t\t\t{/* title  */}\n\t\t\t{headingTemplate()}\n\t\t\t{/* when there are no items, show a no data note  */}\n\t\t\t{(!items || !items.length) && <div className=\"note\">No Data</div>}\n\t\t\t{/* render items if they exist  */}\n\t\t\t{items.length > 0 && <ul>{items.map(item => itemTemplate(item))}</ul>}\n\t\t</div>\n\t)\n}\n\nListWithHeading.propTypes = {\n\tcls: PropTypes.string,\n\theadingTemplate: PropTypes.func.isRequired,\n\titemTemplate: PropTypes.func.isRequired,\n\titems: PropTypes.array,\n}\n\nListWithHeading.defaultProps = {\n\tcls: ``,\n\theading: ``,\n\titems: [],\n}\n\nexport default ListWithHeading\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'gatsby'\n\nimport getHyphenatedString from '../../utils/get-hyphenated-string'\n\nconst TableTestcaseFindings = ({ ruleId, implementations = [], filter = defaultFilter }) => {\n\treturn (\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Testcase Url</th>\n\t\t\t\t\t<th>Expected</th>\n\t\t\t\t\t{implementations.map(({ implementationId }, index) => {\n\t\t\t\t\t\treturn <th key={`${implementationId}- ${index}`}>{implementationId}</th>\n\t\t\t\t\t})}\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{Object.values(groupFindingsOfImplementations(ruleId, implementations, filter)).map(\n\t\t\t\t\t({ testcase, url, relativeUrl, expected, actuals }, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={`${url}-${index}`}>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<Link to={relativeUrl}>{testcase}</Link>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{expected}</td>\n\t\t\t\t\t\t\t\t{implementations.map(({ implementationId }, index) => {\n\t\t\t\t\t\t\t\t\treturn <td key={`${implementationId}-${url}=${index}`}>{actuals[implementationId]}</td>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t)}\n\t\t\t</tbody>\n\t\t</table>\n\t)\n}\n\nTableTestcaseFindings.propTypes = {\n\truleId: PropTypes.string.isRequired,\n\timplementations: PropTypes.array.isRequired,\n\tfilter: PropTypes.func,\n}\n\nexport default TableTestcaseFindings\n\n/**\n * Group implmentation set data per testcase\n * @param {Array<Object>} implementations implementation set\n * @param {Function} filter filter fn\n * @returns {Object}\n */\nfunction groupFindingsOfImplementations(ruleId, implementations, filter) {\n\tconst result = {}\n\n\tconst filteredImplementations = implementations.filter(filter)\n\n\tfor (const { implementationId, findings } of filteredImplementations) {\n\t\tfor (const { url, testcase, expected, actual } of findings) {\n\t\t\tif (!result[testcase]) {\n\t\t\t\tresult[testcase] = {\n\t\t\t\t\turl,\n\t\t\t\t\ttestcase,\n\t\t\t\t\trelativeUrl: `/rules/${ruleId}/#${getHyphenatedString(testcase)}`,\n\t\t\t\t\texpected,\n\t\t\t\t\tactuals: {\n\t\t\t\t\t\t[implementationId]: actual,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult[testcase] = {\n\t\t\t\t\t...result[testcase],\n\t\t\t\t\tactuals: {\n\t\t\t\t\t\t...result[testcase].actuals,\n\t\t\t\t\t\t[implementationId]: actual,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result\n}\n\n/**\n * Default filter which returns everything\n */\nfunction defaultFilter() {\n\treturn true\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TableTestcaseFindings from './table-testcase-findings'\nimport Note from './note'\n\nconst ListOfImplementations = ({ mapping = [], showIncomplete = false }) => {\n\treturn (\n\t\t<div>\n\t\t\t{mapping.map(({ ruleId = '', implementations }) => (\n\t\t\t\t<div key={ruleId}>{getPageContent(implementations, showIncomplete, ruleId)}</div>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nListOfImplementations.propTypes = {\n\tmapping: PropTypes.array.isRequired,\n\tshowIncomplete: PropTypes.bool,\n}\n\nexport default ListOfImplementations\n\n/**\n *\n * @param {Object[]} implementations implementations\n * @param {Boolean} showIncomplete should show incomplete implementations\n * @param {String} ruleId rule id\n */\nfunction getPageContent(implementations, showIncomplete, ruleId) {\n\tif (!implementations || !implementations.length) {\n\t\treturn (\n\t\t\t<Note\n\t\t\t\tcls={`invalid`}\n\t\t\t\ttitle={`No Implementations`}\n\t\t\t\tbody={`No complete implemenations are provided. Kindly submit a new or amended implementation report.`}\n\t\t\t/>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{showIncomplete ? (\n\t\t\t\t<>\n\t\t\t\t\t<Note\n\t\t\t\t\t\tcls={`invalid`}\n\t\t\t\t\t\ttitle={`Incomplete Implementation`}\n\t\t\t\t\t\tbody={`Listed below are the incomplete assertions. Kindly submit an amended implementation report.`}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableTestcaseFindings\n\t\t\t\t\t\truleId={ruleId}\n\t\t\t\t\t\timplementations={implementations}\n\t\t\t\t\t\tfilter={({ consistency }) => consistency === `inconsistent`}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<TableTestcaseFindings\n\t\t\t\t\truleId={ruleId}\n\t\t\t\t\timplementations={implementations}\n\t\t\t\t\tfilter={({ consistency }) => consistency !== `inconsistent`}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport './badge.scss'\n\nconst Badge = ({ title, value }) => {\n  return (\n    <div className='badge'>\n      <span className='title'>{title}</span>\n      <span>{value}</span>\n    </div>\n  )\n}\n\nBadge.propTypes = {\n  title: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired\n}\n\nexport default Badge","import React from 'react'\nimport { filterByConsistency } from '../templates/implementer.js'\nimport implementationMetrics from '../../_data/implementation-metrics.json'\n\nconst CountImplementations = ({ ruleId = `` }) => {\n\tconst metrics = implementationMetrics[ruleId] || []\n\n\t/**\n\t * Get count of implementations which are only `consistent`\n\t */\n\tconst count = metrics.filter(metric => filterByConsistency(metric.implementations, ['consistent']).length > 0).length\n\n\treturn (\n\t\t<div className=\"side-notes\">\n\t\t\t<div className=\"meta\">\n\t\t\t\t<span className=\"heading\">Complete Implementations: {count}</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default CountImplementations\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport showdown from 'showdown'\n\nimport AccessibilityRequirements from './accessibility_requirements'\nimport CountImplementations from './count-implementations'\nimport ListWithHeading from './list-with-heading'\n\nimport './rule-card.scss'\nimport RuleHeader from './rule-header'\n\nconst RuleCard = ({\n\tid = '',\n\tname = '',\n\ttype = '',\n\tdescription = '',\n\taccessibilityRequirements,\n\tinputRules,\n\tallRules,\n}) => {\n\tconst converter = new showdown.Converter()\n\n\treturn (\n\t\t<article className=\"ruleCard\">\n\t\t\t<section>\n\t\t\t\t{/* header  */}\n\t\t\t\t<RuleHeader ruleId={id} ruleName={name} />\n\t\t\t\t{/* rule description */}\n\t\t\t\t<div\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: converter.makeHtml(description),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{/* rule sc's */}\n\t\t\t\t<AccessibilityRequirements accessibility_requirements={accessibilityRequirements} type=\"text\" />\n\t\t\t\t{/* input rules */}\n\t\t\t\t{inputRules && (\n\t\t\t\t\t<ListWithHeading\n\t\t\t\t\t\tcls={`meta`}\n\t\t\t\t\t\theadingTemplate={() => <span className=\"heading\">Input Rules:</span>}\n\t\t\t\t\t\titemTemplate={inputRuleId => {\n\t\t\t\t\t\t\tconst atomicRule = allRules.edges.find(rule => rule.node.frontmatter.id === inputRuleId)\n\t\t\t\t\t\t\tconst aHref = atomicRule.node.fields.slug.replace('rules/', '')\n\t\t\t\t\t\t\tconst name = atomicRule.node.frontmatter.name\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={inputRuleId}>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"sc-item block\"\n\t\t\t\t\t\t\t\t\t\thref={aHref}\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: converter.makeHtml(name),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t></a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\titems={inputRules}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{/* implementation count */}\n\t\t\t\t<CountImplementations ruleId={id} />\n\t\t\t</section>\n\t\t</article>\n\t)\n}\n\nRuleCard.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tname: PropTypes.string.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tdescription: PropTypes.string.isRequired,\n\taccessibilityRequirements: PropTypes.object,\n\tinputRules: PropTypes.array,\n\tallRules: PropTypes.object,\n}\n\nexport default RuleCard\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _classCallCheck from \"/home/runner/work/act-rules-web/act-rules-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/runner/work/act-rules-web/act-rules-web/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Helper = /*#__PURE__*/function () {\n  function Helper() {\n    _classCallCheck(this, Helper);\n  }\n\n  _createClass(Helper, null, [{\n    key: \"getDescendantProperty\",\n    value: function getDescendantProperty(object, path) {\n      var list = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var firstSegment;\n      var remaining;\n      var dotIndex;\n      var value;\n      var index;\n      var length;\n\n      if (path) {\n        dotIndex = path.indexOf('.');\n\n        if (dotIndex === -1) {\n          firstSegment = path;\n        } else {\n          firstSegment = path.slice(0, dotIndex);\n          remaining = path.slice(dotIndex + 1);\n        }\n\n        value = object[firstSegment];\n\n        if (value !== null && typeof value !== 'undefined') {\n          if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n            list.push(value);\n          } else if (Object.prototype.toString.call(value) === '[object Array]') {\n            for (index = 0, length = value.length; index < length; index++) {\n              Helper.getDescendantProperty(value[index], remaining, list);\n            }\n          } else if (remaining) {\n            Helper.getDescendantProperty(value, remaining, list);\n          }\n        }\n      } else {\n        list.push(object);\n      }\n\n      return list;\n    }\n  }]);\n\n  return Helper;\n}();\n\nexport { Helper as default };","import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.array.is-array\";\nimport _classCallCheck from \"/home/runner/work/act-rules-web/act-rules-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/runner/work/act-rules-web/act-rules-web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Helper from './Helper';\n\nvar FuzzySearch = /*#__PURE__*/function () {\n  function FuzzySearch() {\n    var haystack = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, FuzzySearch);\n\n    if (!Array.isArray(keys)) {\n      options = keys;\n      keys = [];\n    }\n\n    this.haystack = haystack;\n    this.keys = keys;\n    this.options = Object.assign({\n      caseSensitive: false,\n      sort: false\n    }, options);\n  }\n\n  _createClass(FuzzySearch, [{\n    key: \"search\",\n    value: function search() {\n      var query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (query === '') {\n        return this.haystack;\n      }\n\n      var results = [];\n\n      for (var i = 0; i < this.haystack.length; i++) {\n        var item = this.haystack[i];\n\n        if (this.keys.length === 0) {\n          var score = FuzzySearch.isMatch(item, query, this.options.caseSensitive);\n\n          if (score) {\n            results.push({\n              item: item,\n              score: score\n            });\n          }\n        } else {\n          for (var y = 0; y < this.keys.length; y++) {\n            var propertyValues = Helper.getDescendantProperty(item, this.keys[y]);\n            var found = false;\n\n            for (var z = 0; z < propertyValues.length; z++) {\n              var _score = FuzzySearch.isMatch(propertyValues[z], query, this.options.caseSensitive);\n\n              if (_score) {\n                found = true;\n                results.push({\n                  item: item,\n                  score: _score\n                });\n                break;\n              }\n            }\n\n            if (found) {\n              break;\n            }\n          }\n        }\n      }\n\n      if (this.options.sort) {\n        results.sort(function (a, b) {\n          return a.score - b.score;\n        });\n      }\n\n      return results.map(function (result) {\n        return result.item;\n      });\n    }\n  }], [{\n    key: \"isMatch\",\n    value: function isMatch(item, query, caseSensitive) {\n      item = String(item);\n      query = String(query);\n\n      if (!caseSensitive) {\n        item = item.toLocaleLowerCase();\n        query = query.toLocaleLowerCase();\n      }\n\n      var indexes = FuzzySearch.nearestIndexesFor(item, query);\n\n      if (!indexes) {\n        return false;\n      } // Exact matches should be first.\n\n\n      if (item === query) {\n        return 1;\n      } // If we have more than 2 letters, matches close to each other should be first.\n\n\n      if (indexes.length > 1) {\n        return 2 + (indexes[indexes.length - 1] - indexes[0]);\n      } // Matches closest to the start of the string should be first.\n\n\n      return 2 + indexes[0];\n    }\n  }, {\n    key: \"nearestIndexesFor\",\n    value: function nearestIndexesFor(item, query) {\n      var letters = query.split('');\n      var indexes = [];\n      var indexesOfFirstLetter = FuzzySearch.indexesOfFirstLetter(item, query);\n      indexesOfFirstLetter.forEach(function (startingIndex, loopingIndex) {\n        var index = startingIndex + 1;\n        indexes[loopingIndex] = [startingIndex];\n\n        for (var i = 1; i < letters.length; i++) {\n          var letter = letters[i];\n          index = item.indexOf(letter, index);\n\n          if (index === -1) {\n            indexes[loopingIndex] = false;\n            break;\n          }\n\n          indexes[loopingIndex].push(index);\n          index++;\n        }\n      });\n      indexes = indexes.filter(function (letterIndexes) {\n        return letterIndexes !== false;\n      });\n\n      if (!indexes.length) {\n        return false;\n      }\n\n      return indexes.sort(function (a, b) {\n        if (a.length === 1) {\n          return a[0] - b[0];\n        }\n\n        a = a[a.length - 1] - a[0];\n        b = b[b.length - 1] - b[0];\n        return a - b;\n      })[0];\n    }\n  }, {\n    key: \"indexesOfFirstLetter\",\n    value: function indexesOfFirstLetter(item, query) {\n      var match = query[0];\n      return item.split('').map(function (letter, index) {\n        if (letter !== match) {\n          return false;\n        }\n\n        return index;\n      }).filter(function (index) {\n        return index !== false;\n      });\n    }\n  }]);\n\n  return FuzzySearch;\n}();\n\nexport { FuzzySearch as default };","import { useEffect } from 'react';\nimport useTimeoutFn from './useTimeoutFn';\nexport default function useDebounce(fn, ms, deps) {\n  if (ms === void 0) {\n    ms = 0;\n  }\n\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  var _a = useTimeoutFn(fn, ms),\n      isReady = _a[0],\n      cancel = _a[1],\n      reset = _a[2];\n\n  useEffect(reset, deps);\n  return [isReady, cancel];\n}","/* eslint-disable */\nimport { useCallback, useEffect, useRef } from 'react';\nexport default function useTimeoutFn(fn, ms) {\n  if (ms === void 0) {\n    ms = 0;\n  }\n\n  var ready = useRef(false);\n  var timeout = useRef();\n  var callback = useRef(fn);\n  var isReady = useCallback(function () {\n    return ready.current;\n  }, []);\n  var set = useCallback(function () {\n    ready.current = false;\n    timeout.current && clearTimeout(timeout.current);\n    timeout.current = setTimeout(function () {\n      ready.current = true;\n      callback.current();\n    }, ms);\n  }, [ms]);\n  var clear = useCallback(function () {\n    ready.current = null;\n    timeout.current && clearTimeout(timeout.current);\n  }, []); // update ref when function changes\n\n  useEffect(function () {\n    callback.current = fn;\n  }, [fn]); // set on mount, clear on unmount\n\n  useEffect(function () {\n    set();\n    return clear;\n  }, [ms]);\n  return [isReady, clear, set];\n}","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { useDebounce } from 'react-use'\n\nimport './rules-filter.scss'\n\nconst RulesFilter = ({ onFilter, minimumFilterTextLength = 3, debounceTime = 300 }) => {\n\tconst [filterText, setFilterText] = useState(``)\n\n\tuseDebounce(() => onFilter(filterText), debounceTime, [filterText])\n\n\treturn (\n\t\t<form onSubmit={e => e.preventDefault()} className=\"rulesFilter\">\n\t\t\t<div className=\"filterTextInputGroup\">\n\t\t\t\t<label htmlFor=\"filterTextInput\">Filter:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"filterTextInput\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder={`Enter more than ${minimumFilterTextLength} characters...`}\n\t\t\t\t\tvalue={filterText}\n\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tsetFilterText(e.target.value)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<small>Supports id, name, description or type</small>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nRulesFilter.propTypes = {\n\tdebounceTime: PropTypes.number,\n\tonFilter: PropTypes.func.isRequired,\n\tminimumFilterTextLength: PropTypes.number,\n}\n\nexport default RulesFilter\n","import React, { useState } from 'react'\nimport { graphql } from 'gatsby'\nimport classnames from 'classnames'\nimport ReactMedia from 'react-media'\n\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\nimport RuleCard from '../components/rule-card'\nimport FuzzySearch from 'fuzzy-search'\nimport RulesFilter from '../components/rules-filter'\n\nimport './rules.scss'\n\nexport default ({ location, data }) => {\n\tconst { rules, allRules } = data\n\n\tconst [isSmallViewport, setIsSmallViewport] = useState(false)\n\tconst [renderedRules, setRenderedRules] = useState(rules.edges)\n\n\tconst minimumFilterTextLength = 3\n\tconst onFilter = value => {\n\t\tif (value.length < minimumFilterTextLength) {\n\t\t\tsetRenderedRules(rules.edges)\n\t\t\treturn\n\t\t}\n\t\tconst fuzzy = new FuzzySearch(rules.edges, [\n\t\t\t'node.frontmatter.id',\n\t\t\t'node.frontmatter.name',\n\t\t\t'node.frontmatter.description',\n\t\t\t'node.frontmatter.rule_type',\n\t\t])\n\t\tconst results = fuzzy.search(value)\n\t\tsetRenderedRules(results)\n\t}\n\n\treturn (\n\t\t<Layout location={location}>\n\t\t\t<ReactMedia queries={{ small: '(max-width: 599px)' }} onChange={matches => setIsSmallViewport(matches.small)} />\n\t\t\t<SEO title=\"Rules\" />\n\t\t\t<section className={classnames(`page-rules`, { sm: isSmallViewport })}>\n\t\t\t\t{/* title and filter  */}\n\t\t\t\t<header className=\"titleAndFilter\">\n\t\t\t\t\t<h1>Rules</h1>\n\t\t\t\t\t{/* filter input  */}\n\t\t\t\t\t<RulesFilter onFilter={onFilter} minimumFilterTextLength={minimumFilterTextLength} />\n\t\t\t\t</header>\n\t\t\t\t{/* Rules list */}\n\t\t\t\t<section className=\"content\">\n\t\t\t\t\t{renderedRules\n\t\t\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * Remove markdown backticks for sort comparison\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tconst nameOfA = a.node.frontmatter.name.replace(/`/g, '').toLowerCase()\n\t\t\t\t\t\t\tconst nameOfB = b.node.frontmatter.name.replace(/`/g, '').toLowerCase()\n\t\t\t\t\t\t\t// Reference - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\n\t\t\t\t\t\t\treturn nameOfA.localeCompare(nameOfB)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.map(({ node }) => {\n\t\t\t\t\t\t\tconst { frontmatter, fields } = node\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RuleCard\n\t\t\t\t\t\t\t\t\tkey={frontmatter.id}\n\t\t\t\t\t\t\t\t\tid={frontmatter.id}\n\t\t\t\t\t\t\t\t\tname={frontmatter.name}\n\t\t\t\t\t\t\t\t\ttype={frontmatter.rule_type}\n\t\t\t\t\t\t\t\t\tdescription={frontmatter.description}\n\t\t\t\t\t\t\t\t\taccessibilityRequirements={JSON.parse(fields.fastmatterAttributes).accessibility_requirements}\n\t\t\t\t\t\t\t\t\tinputRules={frontmatter.input_rules}\n\t\t\t\t\t\t\t\t\tallRules={allRules}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t</Layout>\n\t)\n}\n\nexport const query = graphql`\n\tquery {\n\t\trules: allMarkdownRemark(\n\t\t\tsort: { fields: [frontmatter___name], order: ASC }\n\t\t\tfilter: { fields: { markdownType: { eq: \"rules\" } } }\n\t\t) {\n\t\t\ttotalCount\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tfileAbsolutePath\n\t\t\t\t\tid\n\t\t\t\t\tfrontmatter {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\trule_type\n\t\t\t\t\t\tinput_rules\n\t\t\t\t\t}\n\t\t\t\t\tfields {\n\t\t\t\t\t\tmarkdownType\n\t\t\t\t\t\tfastmatterAttributes\n\t\t\t\t\t\tslug\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tallRules: allMarkdownRemark(filter: { fields: { markdownType: { eq: \"rules\" } } }) {\n\t\t\ttotalCount\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tfields {\n\t\t\t\t\t\tfileName {\n\t\t\t\t\t\t\trelativePath\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmarkdownType\n\t\t\t\t\t\tslug\n\t\t\t\t\t}\n\t\t\t\t\tfrontmatter {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`\n"],"sourceRoot":""}