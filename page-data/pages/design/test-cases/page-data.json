{"componentChunkName":"component---src-templates-default-js","path":"/pages/design/test-cases/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"act-rules-test-case-design\" style=\"position:relative;\"><a href=\"#act-rules-test-case-design\" aria-label=\"act rules test case design permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ACT Rules Test Case Design</h1>\n<p>The goal of test cases in ACT rules is to allow implementers to verify that their implementation is consistent with the ACT rule. It requires that a rule has test cases for all of the \"important\" aspects of it. Beyond that, it is up to the rule authors to determine how extensive to make the list of test cases. The decision of what the edge cases to test will be,  should be based on issues in <strong>real-world</strong> examples.</p>\n<p>To strike a good balance in test cases, the following principles should be considered:</p>\n<ol>\n<li>Test every \"condition\" in the rule</li>\n<li>Test one thing at a time</li>\n<li>Ensure consistency with accessibility</li>\n<li>Keep test cases small</li>\n<li>Test definitions superficially</li>\n<li>Avoid tests cases contested by (accessibility) support</li>\n</ol>\n<p>Keep in mind, there are exceptions to all of these.</p>\n<h2 id=\"test-every-condition\" style=\"position:relative;\"><a href=\"#test-every-condition\" aria-label=\"test every condition permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Test Every Condition</h2>\n<p>At a minimum, every \"condition\" in the applicability and expectation has to have both positive and negative test cases for it. For example the phrase \"<code class=\"language-text\">img</code> and <code class=\"language-text\">svg</code> elements\" has two conditions in it; \"<code class=\"language-text\">img</code> elements\" and \"<code class=\"language-text\">svg</code> elements\". A rule with such a phrase in the applicability would require the following test cases:</p>\n<ul>\n<li><code class=\"language-text\">img</code> that passes the rule</li>\n<li><code class=\"language-text\">svg</code> that passes the rule</li>\n<li><code class=\"language-text\">img</code> that fails the rule</li>\n<li><code class=\"language-text\">svg</code> that fails the rule</li>\n<li>some other element that is inapplicable</li>\n</ul>\n<p>Providing these test cases ensures that an implementer that correctly tests <code class=\"language-text\">img</code> elements, but passes every <code class=\"language-text\">svg</code> element can be identified as a partial implementation, and one where it fails all <code class=\"language-text\">svg</code> elements is identified as an inconsistent implementation.</p>\n<h2 id=\"one-thing-at-a-time\" style=\"position:relative;\"><a href=\"#one-thing-at-a-time\" aria-label=\"one thing at a time permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>One Thing At A Time</h2>\n<p>A test case should only test one \"condition\" at a time. This keeps them focused and easy to reason about. It may be tempting to combine multiple cases in one example, but then if that example does not get the expected outcome, it is difficult to identify the cause of the issue.</p>\n<p>When writing test cases, it is important to look at conditional logic. For example if the applicability says an element is applicable if it is \"<em>visible</em> and <em>included in the accessibility tree</em>\", in addition to a passed and failed example, there are three ways for this to not be true, all of which have to be tested:</p>\n<ul>\n<li>inapplicable: visible, but <strong>not</strong> included in the accessibility tree</li>\n<li>inapplicable: <strong>not</strong> visible, but included in the accessibility tree</li>\n<li>inapplicable: <strong>not</strong> visible, and <strong>not</strong> included in the accessibility tree</li>\n</ul>\n<h2 id=\"consistency-with-accessibility-requirements\" style=\"position:relative;\"><a href=\"#consistency-with-accessibility-requirements\" aria-label=\"consistency with accessibility requirements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Consistency With Accessibility Requirements</h2>\n<p>In order for the mapping of implementations to the rules to work, test cases need to be consistent with the accessibility requirement. This requires that <strong>passed and inapplicable test cases should satisfy the accessibility requirements</strong> of the rule, as well as the accessibility requirement of any composite rule this rule is designed for. Inapplicable conditions that do not satisfy the accessibility requirements should not be included. For example when testing <a href=\"https://www.w3.org/TR/WCAG21/#page-titled\">2.4.2 Page Titled</a>, a rule that tests that titles are descriptive can not have an inapplicable example of a page that should have a title but does not.</p>\n<p>Related to this, failed test cases should only fail the accessibility requirements for one reason. A failed test case for 4.1.2 Name, Role, Value should not have issues with both the accessible name, and the role. If the rule is about accessible names, the role and value must be correct.</p>\n<h2 id=\"small-test-cases\" style=\"position:relative;\"><a href=\"#small-test-cases\" aria-label=\"small test cases permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Small Test Cases</h2>\n<p>A general principle in test design is to keep test cases small. Avoid any unnecessary content, as it may cause unexpected side effects in the outcome. For example, a rule about buttons does not require that all test cases have an HTML element with a <code class=\"language-text\">lang</code> attribute and a <code class=\"language-text\">title</code> element. Those elements do not affect the accessibility of a button. All code in the test case should be relevant to the rule or its accessibility requirements.</p>\n<p>An exception to that, is that ACT Rules should strive to show good accessibility practices. A rule about valid <code class=\"language-text\">autocomplete</code> attributes should still provide labels for the form controls with the <code class=\"language-text\">autocomplete</code> attribute. Those labels both provide context, showing the intended purpose of the input, and they show good practice of providing labels for form controls.</p>\n<h2 id=\"superficial-definition-testing\" style=\"position:relative;\"><a href=\"#superficial-definition-testing\" aria-label=\"superficial definition testing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Superficial Definition Testing</h2>\n<p>ACT rules use definitions to avoid duplication, and to \"hide\" away the details. Definitions such as \"semantic role\", \"visible\" and \"accessible name\" are used in many rules, and are fundamental building blocks of ACT. To avoid having a lot of similar test cases in every rule that uses a particular definition, it is best to keep definition testing to a minimum.</p>\n<p>As an example, the \"X has non-empty accessible name\" rules all have test cases that check for the different ways that an element can have an accessible name. For <code class=\"language-text\">img</code>, that is <code class=\"language-text\">alt</code>, <code class=\"language-text\">title</code>, and <code class=\"language-text\">aria-label(ledby)</code> attributes. That creates sufficient coverage to ensure the basics are understood. But those rules do not go into the details of ensuring accessible name computation is done right. Whether an implementer considers <code class=\"language-text\">aria-owns</code> in the accessible name computation is not relevant for \"non-empty accessible name\" rules.</p>\n<p>That is not to say edge cases in definitions should never have test cases. If there are <strong>real-world examples</strong> of a particular edge case affecting the outcome of a rule, test cases should be added to the rule to cover that edge case.</p>\n<h2 id=\"avoid-accessibility-support-issues\" style=\"position:relative;\"><a href=\"#avoid-accessibility-support-issues\" aria-label=\"avoid accessibility support issues permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Avoid (Accessibility) Support Issues</h2>\n<p>It is fairly common for rules to involve technologies that are not fully supported. For example, ARIA roles get added every few years, and it takes a while for new roles to get adopted by assistive technologies. In the case that a particular technology has very little or no support at all, the rules should not have test cases for this.</p>\n<p>Once there is significant support for a particular technology, it should be considered for test cases. The best way to introduce technologies that are only partially supported is to exclusively provide failed test cases for them. This makes an implementation that does not support this technology partially consistent.</p>\n<p>Technologies that are widely supported can be used in all test cases. In all situations, previous principles of deciding if a test case is needed or not still apply.</p>\n<h2 id=\"exceptions\" style=\"position:relative;\"><a href=\"#exceptions\" aria-label=\"exceptions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exceptions</h2>\n<p>It is important to know that there are exceptions to all of these principles. There may be technical reasons not to include a certain test case, or the number of combinations may require an unreasonable number of tests. It may sometimes not make logical sense for some passed test cases to satisfy all accessibility requirements. Some definitions may not require tests, and others can be argued to need extensive tests. Etc.</p>\n<p>Letting <strong>real-world</strong> examples drive consistency forward also means rule authors should not get stuck in trying to write test cases for every conceivable situation. Rule authors should strive for a 95% consistency between implementers on first publication. This percentage does not need to be measured, it is intended to give a idea of what to aim for. As more examples are discovered, this number will go up over time.</p>","frontmatter":{"title":""}},"site":{"siteMetadata":{"actRulesPackage":"{\"_args\":[[\"github:act-rules/act-rules.github.io#develop\",\"/home/runner/work/act-rules-web/act-rules-web\"]],\"_from\":\"github:act-rules/act-rules.github.io#develop\",\"_id\":\"act-rules-community@github:act-rules/act-rules.github.io#e1a848b09d393cc70fb53aa0e8041f4e1aa415c5\",\"_inBundle\":false,\"_integrity\":\"\",\"_location\":\"/act-rules-community\",\"_phantomChildren\":{},\"_requested\":{\"type\":\"git\",\"raw\":\"github:act-rules/act-rules.github.io#develop\",\"rawSpec\":\"github:act-rules/act-rules.github.io#develop\",\"saveSpec\":\"github:act-rules/act-rules.github.io#develop\",\"fetchSpec\":null,\"gitCommittish\":\"develop\"},\"_requiredBy\":[\"/\"],\"_resolved\":\"github:act-rules/act-rules.github.io#e1a848b09d393cc70fb53aa0e8041f4e1aa415c5\",\"_spec\":\"github:act-rules/act-rules.github.io#develop\",\"_where\":\"/home/runner/work/act-rules-web/act-rules-web\",\"author\":{\"name\":\"ACT-Rules Community\"},\"bugs\":{\"url\":\"https://github.com/act-rules/act-rules.github.io/issues\"},\"config\":{\"rule-format-metadata\":{\"input-aspects\":{\"default\":\"https://www.w3.org/TR/act-rules-aspects/#intro\",\"HTTP Messages\":\"https://www.w3.org/TR/act-rules-aspects/#input-aspects-http\",\"DOM Tree\":\"https://www.w3.org/TR/act-rules-aspects/#input-aspects-dom\",\"CSS Styling\":\"https://www.w3.org/TR/act-rules-aspects/#input-aspects-css\",\"Accessibility Tree\":\"https://www.w3.org/TR/act-rules-aspects/#input-aspects-accessibility\",\"Language\":\"https://www.w3.org/TR/act-rules-aspects/#input-aspects-text\"}}},\"contributors\":[{\"name\":\"Anne Thyme Nørregaard\",\"url\":\"https://github.com/annethyme\"},{\"name\":\"Annika Nietzio\",\"url\":\"https://github.com/annika-FTB\"},{\"name\":\"António Estriga\",\"url\":\"https://github.com/AntonioEstriga\"},{\"name\":\"Audrey Maniez\",\"url\":\"https://github.com/audreymaniez\"},{\"name\":\"Brian Bors\",\"url\":\"https://www.linkedin.com/in/brianbors/\"},{\"name\":\"Bryn Anderson\",\"url\":\"https://github.com/brynanders\"},{\"name\":\"Carlos Duarte\",\"url\":\"https://github.com/carlosapaduarte\"},{\"name\":\"Christina Adams\",\"url\":\"https://github.com/offsetChris\"},{\"name\":\"Corbb O'Connor\",\"url\":\"https://github.com/corbb\"},{\"name\":\"Dagfinn Rømen\",\"url\":\"https://github.com/DagfinnRomen\"},{\"name\":\"Daniël Strik\",\"url\":\"https://github.com/danistr\"},{\"name\":\"Emma Pratt Richens\",\"url\":\"https://github.com/EmmaJP\"},{\"name\":\"Frank Berker\",\"url\":\"https://github.com/yetanothereye\"},{\"name\":\"Geir Sindre Fossøy\",\"url\":\"https://github.com/geirsf\"},{\"name\":\"Jean-Yves Moyen\",\"url\":\"https://github.com/Jym77\"},{\"name\":\"Jey Nandakumar\",\"url\":\"https://github.com/jkodu\"},{\"name\":\"João Vicente\",\"url\":\"https://github.com/joao-vicente\"},{\"name\":\"John Hicks\",\"url\":\"https://github.com/john-urbilog\"},{\"name\":\"Malin Øvrebø\",\"url\":\"https: //github.com/MaliinO\"},{\"name\":\"Marie Trudelle\",\"url\":\"https://github.com/marietrudelle\"},{\"name\":\"Kasper Isager\",\"url\":\"https: //github.com/kasperisager\"},{\"name\":\"Patrick H. Lauke\",\"url\":\"https: //github.com/patrickhlauke\"},{\"name\":\"Rafal Charlampowicz\",\"url\":\"https://github.com/Rafalchar\"},{\"name\":\"Ramit Garg\",\"url\":\"https://github.com/ramitgarg\"},{\"name\":\"Rob Fentress\",\"url\":\"https://github.com/robfentress\"},{\"name\":\"Shadi Abou-Zahra\",\"url\":\"https://github.com/nitedog\"},{\"name\":\"Stein Erik Skotkjerra\",\"url\":\"https://github.com/skotkjerra\"},{\"name\":\"Wilco Fiers\",\"url\":\"https://github.com/wilcofiers\"}],\"description\":\"Accessibility conformance testing rules for HTML\",\"devDependencies\":{\"aria-query\":\"^4.0.2\",\"dictionary-en-us\":\"^2.2.1\",\"fastmatter\":\"^2.1.1\",\"gfm-code-blocks\":\"^1.0.0\",\"globby\":\"^10.0.2\",\"htmlhint\":\"^0.11.0\",\"husky\":\"^3.1.0\",\"is-url\":\"^1.2.4\",\"jest\":\"^25.5.4\",\"jest-expect-message\":\"^1.0.2\",\"jest-extended\":\"^0.11.5\",\"js-yaml\":\"^3.14.0\",\"lint-staged\":\"^9.5.0\",\"marked\":\"^0.7.0\",\"prettier\":\"^1.19.1\",\"remark-frontmatter\":\"^1.3.2\",\"remark-parse\":\"^7.0.2\",\"remove-markdown\":\"^0.3.0\",\"retext\":\"^7.0.1\",\"retext-english\":\"^3.0.4\",\"retext-redundant-acronyms\":\"^2.0.0\",\"retext-repeated-words\":\"^2.0.0\",\"retext-spell\":\"^3.0.0\",\"retext-stringify\":\"^2.0.4\",\"retext-syntax-urls\":\"^1.0.2\",\"unified\":\"^8.4.2\",\"unist-util-visit\":\"^2.0.2\",\"vfile-reporter\":\"^6.0.0\"},\"homepage\":\"https://github.com/act-rules/act-rules.github.io\",\"husky\":{\"hooks\":{\"pre-commit\":\"lint-staged\"}},\"jest\":{\"verbose\":false,\"setupFilesAfterEnv\":[\"jest-extended\",\"jest-expect-message\"],\"testPathIgnorePatterns\":[\"<rootDir>/test-utils/\",\"<rootDir>/.cache/\",\"<rootDir>/.public/\"]},\"keywords\":[\"WCAG\",\"ACT Rules\",\"Accessibility\",\"W3C\"],\"license\":\"MIT\",\"lint-staged\":{\"*.{json,md,js,html,css,yml}\":[\"prettier --write\",\"git add\"]},\"name\":\"act-rules-community\",\"pulls\":{\"url\":\"https://github.com/act-rules/act-rules.github.io/pulls\"},\"repository\":{\"url\":\"git+https://github.com/act-rules/act-rules.github.io.git\"},\"scripts\":{\"format\":\"prettier --write *.{json,md,js,html,css,yml} './{__tests__,_rules,.github,pages,test-assets,test-utils,utils}/**/*.{json,md,js,html,css,yml}'\",\"formatRulesDir\":\"prettier --write './_rules/**/*.md'\",\"test\":\"jest --coverage\"},\"version\":\"1.0.0\",\"www\":{\"url\":\"https://act-rules.github.io\"}}"}}},"pageContext":{"slug":"pages/design/test-cases/","fileName":null,"sourceInstanceName":"pages","markdownType":"documentation","fastmatterAttributes":"{}","changelog":null,"title":"","ruleType":null}},"staticQueryHashes":["1714903743","3230152527","811143740"]}