{"version":3,"sources":["webpack:///./src/components/acknowledgments.js","webpack:///./src/components/glossary.js","webpack:///./src/components/rule-table-of-contents.js","webpack:///./src/templates/rule.js","webpack:///./src/components/list-with-heading.js","webpack:///./src/rule/get-acknowledgements.js"],"names":["Acknowledgments","scrollLinkId","items","contributors","acknowledgements","getAcknowledgements","id","href","map","title","length","className","key","text","url","AcknItem","target","rel","defaultProps","authors","previous_authors","reviewers","Glossary","ruleId","glossaryData","glossaryKeysForRule","glossaryUsages","includes","push","edges","filter","frontmatter","node","html","dangerouslySetInnerHTML","__html","RuleTableOfContents","toc","useState","isShown","setIsShown","classnames","hide","queries","large","onChange","matches","role","aria-level","query","location","data","rule","allRules","allGlossary","site","tableOfContents","fields","fastmatterAttributes","changelog","relativePath","fileName","ruleChangelog","JSON","parse","parsedFrontmatter","converter","showdown","Converter","siteMetadata","actRulesPackage","repository","config","repositoryUrl","curateGitUrl","ruleTestcasesUrl","proposeChangeUrl","changelogUrl","issuesUrl","ruleFormatInputAspects","usedInRules","rulesUsages","validImplementers","implementers","actMapping","mappedRuleId","consistency","name","makeHtml","rule_type","format","Date","date","accessibility_requirements","cls","headingTemplate","itemTemplate","item","slug","to","input_aspects","aspect","aHref","input_rules","inputRuleId","atomicRule","find","replace","aria-label","aria-hidden","focusable","height","viewBox","width","fillRule","d","description","acknowledgments","ListWithHeading","heading","sortSections","a","b","priorities","priorityA","indexOf","priorityB","toUpperCase","module","exports","Object","entries","sort","contributor","toLowerCase","getContributorLink","underscoredStr","split","word","substr","join","getHeadingText","getSectionText"],"mappings":"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","file":"component---src-templates-rule-js-690a7de3f531ece0fc53.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { getAcknowledgements } from '../rule/get-acknowledgements'\n\n/**\n * Component to render [key,value] pairs, where\n * - `key` is a string\n * - `value` is an array of items\n *\n * This is usually derived from a rule frontmatter, structure of which is as below:\n * acknowledgements:\n *   authors:\n *     - Jey Nandakumar\n *   previous_authors:\n *     - Annika Nietzio\n *\n * @param {Object} props Props\n */\nconst Acknowledgments = ({ scrollLinkId, items, contributors }) => {\n\tconst acknowledgements = getAcknowledgements(items, contributors)\n\treturn (\n\t\t<>\n\t\t\t<a id={scrollLinkId} href={`#${scrollLinkId}`}>\n\t\t\t\t<h2>Acknowledgments</h2>\n\t\t\t</a>\n\t\t\t{acknowledgements.map(({ title, items }) => {\n\t\t\t\tif (!items || !items.length) {\n\t\t\t\t\treturn null\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"meta\" key={title}>\n\t\t\t\t\t\t<h3 className=\"heading\">{title}</h3>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{items.map(({ text, url }) => (\n\t\t\t\t\t\t\t\t<AcknItem url={url} text={text} key={text} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t</>\n\t)\n}\n\nAcknowledgments.propTypes = {\n\tscrollLinkId: PropTypes.string.isRequired,\n\titems: PropTypes.object.isRequired,\n\tcontributors: PropTypes.array.isRequired,\n}\n\nAcknowledgments.defaultProps = {\n\tscrollLinkId: ``,\n\titems: {\n\t\tauthors: [],\n\t\tprevious_authors: [],\n\t\treviewers: [],\n\t},\n\tcontributors: [],\n}\n\nfunction AcknItem({ text, url }) {\n\tif (!url) {\n\t\treturn <li>{text}</li>\n\t}\n\n\treturn (\n\t\t<li>\n\t\t\t<a className=\"sc-item block\" target=\"_blank\" rel=\"noopener noreferrer\" href={url}>\n\t\t\t\t{text}\n\t\t\t</a>\n\t\t</li>\n\t)\n}\n\nexport default Acknowledgments\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport glossaryUsages from './../../_data/glossary-usages.json'\nimport './glossary.scss'\n\nconst Glossary = ({ ruleId, glossaryData }) => {\n\tconst glossaryKeysForRule = glossaryUsages[ruleId]\n\t// Always show the outcome definition:\n\tif (!glossaryKeysForRule.includes('#outcome')) {\n\t\tglossaryKeysForRule.push('#outcome')\n\t}\n\tconst items = glossaryData.edges.filter(({ node }) => {\n\t\tconst { frontmatter } = node\n\t\treturn glossaryKeysForRule.includes(`#${frontmatter.key}`)\n\t})\n\n\treturn (\n\t\t<>\n\t\t\t<a id=\"glossary-listing\" href=\"#glossary-listing\">\n\t\t\t\t<h2>Glossary</h2>\n\t\t\t</a>\n\t\t\t{items.map(({ node }) => {\n\t\t\t\tconst { frontmatter, html } = node\n\t\t\t\treturn (\n\t\t\t\t\t<article key={node.id}>\n\t\t\t\t\t\t<a id={frontmatter.key} href={`#${frontmatter.key}`}>\n\t\t\t\t\t\t\t<h3>{frontmatter.title}</h3>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div className=\"glossaryContent\" dangerouslySetInnerHTML={{ __html: html }} />\n\t\t\t\t\t</article>\n\t\t\t\t)\n\t\t\t})}\n\t\t</>\n\t)\n}\n\nGlossary.propTypes = {\n\truleId: PropTypes.string.isRequired,\n\tglossaryData: PropTypes.object.isRequired,\n}\n\nexport default Glossary\n","import React, { useState } from 'react'\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport ReactMedia from 'react-media'\n\nimport './rule-table-of-contents.scss'\n\nconst RuleTableOfContents = ({ toc }) => {\n\tconst [isShown, setIsShown] = useState(true)\n\n\treturn (\n\t\t<section className={classnames('tableOfContents', { hide: !isShown })}>\n\t\t\t<ReactMedia queries={{ large: '(min-width: 1200px)' }} onChange={matches => setIsShown(matches.large)} />\n\t\t\t<span role=\"heading\" aria-level=\"1\" className=\"heading\">\n\t\t\t\tTable of Contents\n\t\t\t</span>\n\t\t\t<div dangerouslySetInnerHTML={{ __html: toc }} />\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"#glossary-listing\">Glossary</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"#useful-links\">Useful Links</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"#implementation-metrics\">Implementations</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"#acknowledgments\">Acknowledgments</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</section>\n\t)\n}\n\nRuleTableOfContents.propTypes = {\n\ttoc: PropTypes.string.isRequired,\n}\n\nexport default RuleTableOfContents\n","import React from 'react'\nimport { graphql, Link } from 'gatsby'\nimport showdown from 'showdown'\nimport { format } from 'date-fns'\nimport SEO from '../components/seo'\nimport Layout from '../components/layout'\nimport Acknowledgments from '../components/acknowledgments'\nimport Glossary from '../components/glossary'\nimport AccessibilityRequirements from '../components/accessibility_requirements'\nimport ListOfImplementers from '../components/list-of-implementers'\nimport RuleTableOfContents from '../components/rule-table-of-contents'\nimport ListWithHeading from '../components/list-with-heading'\nimport rulesUsages from '../../_data/rules-usages.json'\nimport curateGitUrl from '../../utils/curate-git-url'\nimport implementers from '../../_data/implementers.json'\n\nimport './rule.scss'\n\nexport default ({ location, data }) => {\n\tconst { rule, allRules, allGlossary, site } = data\n\tconst { html, frontmatter, tableOfContents, fields } = rule\n\tconst { fastmatterAttributes, changelog, fileName } = fields\n\tconst { relativePath } = fileName\n\tconst ruleChangelog = JSON.parse(changelog)\n\tconst parsedFrontmatter = JSON.parse(fastmatterAttributes)\n\tconst converter = new showdown.Converter()\n\tconst { repository, config, contributors } = JSON.parse(site.siteMetadata.actRulesPackage)\n\tconst repositoryUrl = curateGitUrl(repository.url)\n\tconst ruleId = frontmatter.id\n\tconst ruleTestcasesUrl = `/testcases/${ruleId}/rule-${ruleId}-testcases-for-em-report-tool.json`\n\tconst proposeChangeUrl = `${repositoryUrl}/edit/develop/_rules/${relativePath}`\n\tconst changelogUrl = `/rules/${ruleId}/changelog`\n\tconst issuesUrl = `${repositoryUrl}/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+${ruleId}+`\n\tconst ruleFormatInputAspects = config['rule-format-metadata']['input-aspects']\n\tconst usedInRules = rulesUsages[ruleId]\n\tconst validImplementers = implementers.filter(({ actMapping }) => {\n\t\tconst validMappings = actMapping.filter(({ ruleId: mappedRuleId, consistency }) => {\n\t\t\treturn mappedRuleId === ruleId && ['consistent', 'partially-consistent'].includes(consistency)\n\t\t})\n\n\t\treturn validMappings.length > 0\n\t})\n\n\treturn (\n\t\t<Layout location={location}>\n\t\t\t<SEO title={`Rule | ${frontmatter.name}`} />\n\t\t\t<section className=\"page-rule\">\n\t\t\t\t{/* rule content */}\n\t\t\t\t<header>\n\t\t\t\t\t{/* title */}\n\t\t\t\t\t<h1\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: converter.makeHtml(frontmatter.name),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</header>\n\t\t\t\t{/* frontmatter */}\n\t\t\t\t<ul className=\"meta\">\n\t\t\t\t\t{frontmatter.rule_type && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span className=\"heading\">Rule Type:</span>\n\t\t\t\t\t\t\t<span>{frontmatter.rule_type}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span className=\"heading\">Rule Id:</span>\n\t\t\t\t\t\t<span> {ruleId}</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span className=\"heading\">Last modified:</span>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{ruleChangelog && ruleChangelog.length ? format(new Date(ruleChangelog[0].date), 'MMM dd, yyyy') : '-'}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<AccessibilityRequirements accessibility_requirements={parsedFrontmatter.accessibility_requirements} />\n\t\t\t\t\t</li>\n\t\t\t\t\t{usedInRules && usedInRules.length > 0 && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<ListWithHeading\n\t\t\t\t\t\t\t\tcls={`side-notes`}\n\t\t\t\t\t\t\t\theadingTemplate={() => <span className=\"heading\">Used in rules:</span>}\n\t\t\t\t\t\t\t\titemTemplate={item => (\n\t\t\t\t\t\t\t\t\t<li key={item.slug}>\n\t\t\t\t\t\t\t\t\t\t<Link to={`/${item.slug}`}>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t__html: converter.makeHtml(item.name),\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\titems={usedInRules}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t{frontmatter.input_aspects && frontmatter.input_aspects.length && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<ListWithHeading\n\t\t\t\t\t\t\t\tcls={`side-notes`}\n\t\t\t\t\t\t\t\theadingTemplate={() => <span className=\"heading\">Input Aspects:</span>}\n\t\t\t\t\t\t\t\titemTemplate={aspect => {\n\t\t\t\t\t\t\t\t\tconst aHref = ruleFormatInputAspects[aspect]\n\t\t\t\t\t\t\t\t\t\t? ruleFormatInputAspects[aspect]\n\t\t\t\t\t\t\t\t\t\t: ruleFormatInputAspects['default']\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={aspect}>\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"sc-item block\" href={aHref}>\n\t\t\t\t\t\t\t\t\t\t\t\t{aspect}\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\titems={frontmatter.input_aspects}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t{frontmatter.input_rules && frontmatter.input_rules.length && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<ListWithHeading\n\t\t\t\t\t\t\t\tcls={`side-notes`}\n\t\t\t\t\t\t\t\theadingTemplate={() => <span className=\"heading\">Input Rules:</span>}\n\t\t\t\t\t\t\t\titemTemplate={inputRuleId => {\n\t\t\t\t\t\t\t\t\tconst atomicRule = allRules.edges.find(rule => rule.node.frontmatter.id === inputRuleId)\n\t\t\t\t\t\t\t\t\tconst aHref = atomicRule.node.fields.slug.replace('rules/', '')\n\t\t\t\t\t\t\t\t\tconst name = atomicRule.node.frontmatter.name\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={inputRuleId}>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"sc-item block\"\n\t\t\t\t\t\t\t\t\t\t\t\thref={aHref}\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t__html: converter.makeHtml(name),\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t></a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\titems={frontmatter.input_rules}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t\t<hr />\n\t\t\t\t{/* Description */}\n\t\t\t\t<h2 id=\"description\">\n\t\t\t\t\t<a href=\"#description\" aria-label=\"description permalink\" className=\"anchor before\">\n\t\t\t\t\t\t<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\">\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\tDescription\n\t\t\t\t</h2>\n\t\t\t\t<div\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: converter.makeHtml(frontmatter.description),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{/* html content */}\n\t\t\t\t<div\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: html,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<hr />\n\t\t\t\t{/* glossary */}\n\t\t\t\t<Glossary ruleId={ruleId} glossaryData={allGlossary} />\n\t\t\t\t<hr />\n\t\t\t\t{/* Useful links */}\n\t\t\t\t<a href=\"#useful-links\" id=\"useful-links\">\n\t\t\t\t\t<h2>Useful Links</h2>\n\t\t\t\t</a>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={issuesUrl}>\n\t\t\t\t\t\t\tGithub issues related to this rule\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a rel=\"noopener noreferrer\" href={changelogUrl}>\n\t\t\t\t\t\t\tChangelog\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={proposeChangeUrl}>\n\t\t\t\t\t\t\tPropose a change to the rule\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={ruleTestcasesUrl}>\n\t\t\t\t\t\t\tTest case file for use in the WCAG-EM Report Tool\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<hr />\n\t\t\t\t{/* implementations */}\n\t\t\t\t<>\n\t\t\t\t\t<a id=\"implementation-metrics\" href=\"#implementation-metrics\">\n\t\t\t\t\t\t<h2>Implementations</h2>\n\t\t\t\t\t</a>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThis section is not part of the official rule. It is populated dynamically and not accounted for in the\n\t\t\t\t\t\tchange history or the last modified date. This section will not be included in the rule when it is published\n\t\t\t\t\t\ton the W3C website.\n\t\t\t\t\t</p>\n\t\t\t\t\t<ListOfImplementers implementers={validImplementers} ruleId={ruleId} />\n\t\t\t\t</>\n\t\t\t\t{/* Acknowledgments */}\n\t\t\t\t<Acknowledgments\n\t\t\t\t\tscrollLinkId={`acknowledgments`}\n\t\t\t\t\titems={parsedFrontmatter.acknowledgments || parsedFrontmatter.acknowledgements}\n\t\t\t\t\tcontributors={contributors}\n\t\t\t\t/>\n\t\t\t</section>\n\t\t\t{/* Toc */}\n\t\t\t<RuleTableOfContents toc={tableOfContents} />\n\t\t</Layout>\n\t)\n}\n\nexport const query = graphql`\n\tquery($slug: String!) {\n\t\trule: markdownRemark(fields: { slug: { eq: $slug } }) {\n\t\t\thtml\n\t\t\ttableOfContents\n\t\t\tfrontmatter {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\trule_type\n\t\t\t\tdescription\n\t\t\t\tinput_aspects\n\t\t\t\tinput_rules\n\t\t\t}\n\t\t\tfields {\n\t\t\t\tfileName {\n\t\t\t\t\trelativePath\n\t\t\t\t}\n\t\t\t\tslug\n\t\t\t\tfastmatterAttributes\n\t\t\t\tchangelog\n\t\t\t}\n\t\t}\n\t\tallRules: allMarkdownRemark(filter: { fields: { markdownType: { eq: \"rules\" } } }) {\n\t\t\ttotalCount\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tfields {\n\t\t\t\t\t\tfileName {\n\t\t\t\t\t\t\trelativePath\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmarkdownType\n\t\t\t\t\t\tslug\n\t\t\t\t\t}\n\t\t\t\t\tfrontmatter {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tallGlossary: allMarkdownRemark(\n\t\t\tsort: { fields: [frontmatter___title], order: ASC }\n\t\t\tfilter: { fields: { markdownType: { eq: \"glossary\" } } }\n\t\t) {\n\t\t\ttotalCount\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tid\n\t\t\t\t\thtml\n\t\t\t\t\tfrontmatter {\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tkey\n\t\t\t\t\t}\n\t\t\t\t\tfields {\n\t\t\t\t\t\tmarkdownType\n\t\t\t\t\t}\n\t\t\t\t\texcerpt\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsite {\n\t\t\tsiteMetadata {\n\t\t\t\tactRulesPackage\n\t\t\t}\n\t\t}\n\t}\n`\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst ListWithHeading = ({ cls, headingTemplate, itemTemplate, items = [] }) => {\n\treturn (\n\t\t<div className={cls}>\n\t\t\t{/* title  */}\n\t\t\t{headingTemplate()}\n\t\t\t{/* when there are no items, show a no data note  */}\n\t\t\t{(!items || !items.length) && <div className=\"note\">No Data</div>}\n\t\t\t{/* render items if they exist  */}\n\t\t\t{items.length > 0 && <ul>{items.map(item => itemTemplate(item))}</ul>}\n\t\t</div>\n\t)\n}\n\nListWithHeading.propTypes = {\n\tcls: PropTypes.string,\n\theadingTemplate: PropTypes.func.isRequired,\n\titemTemplate: PropTypes.func.isRequired,\n\titems: PropTypes.array,\n}\n\nListWithHeading.defaultProps = {\n\tcls: ``,\n\theading: ``,\n\titems: [],\n}\n\nexport default ListWithHeading\n","function getAcknowledgements(acknowledgements, contributors) {\n\tconst sectionContent = Object.entries(acknowledgements)\n\tconst sortedSections = sectionContent.sort(sortSections)\n\n\treturn sortedSections.map(([title, content]) => {\n\t\treturn getSectionText(title, content, contributors)\n\t})\n}\n\nfunction sortSections([a], [b]) {\n\tconst priorities = ['funding', 'reviewers', 'previous_authors', 'authors']\n\tconst priorityA = priorities.indexOf(a)\n\tconst priorityB = priorities.indexOf(b)\n\n\tif (priorityA !== -1 || priorityB !== -1) {\n\t\t// sort by index, highest index first\n\t\treturn priorityB - priorityA\n\t} else {\n\t\t// Sort revered alphabetically, ignoring case\n\t\treturn a.toUpperCase() > b.toUpperCase() ? 1 : -1\n\t}\n}\n\nfunction getSectionText(title, items, contributors) {\n\titems = items.map(text => getContributorLink(text, contributors))\n\ttitle = getHeadingText(title)\n\treturn { title, items }\n}\n\nfunction getHeadingText(underscoredStr) {\n\tconst words = underscoredStr.split(/_/g)\n\tconst uppercaseWords = words.map(word => word[0].toUpperCase() + word.substr(1))\n\treturn uppercaseWords.join(' ')\n}\n\nfunction getContributorLink(text, contributors) {\n\tconst contributor = contributors.find(({ name }) => {\n\t\treturn text.toLowerCase() === name.toLowerCase()\n\t})\n\tif (!contributor) {\n\t\treturn { text }\n\t}\n\treturn {\n\t\ttext: contributor.name,\n\t\turl: contributor.url,\n\t}\n}\n\nmodule.exports = { getAcknowledgements }\n"],"sourceRoot":""}