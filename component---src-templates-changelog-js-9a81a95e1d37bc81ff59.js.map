{"version":3,"sources":["webpack:///./src/templates/changelog.js"],"names":["getChangelogTabulation","changelog","length","className","width","map","log","sha","message","date","htmlUrl","key","nowrap","format","Date","align","target","rel","href","title","xmlns","x","y","height","viewBox","d","location","data","site","context","sitePage","pageTitle","fastmatterAttributes","frontmatter","fileName","relativePath","JSON","parse","ruleId","id","name","ruleChangelog","siteMetadata","actRulesPackage","repository","url","to","query"],"mappings":"mHAAA,sHAiCMA,GAjCN,UAiC+B,SAAAC,GAC9B,OAAKA,EAAUC,OAId,2BAAOC,UAAU,WAChB,+BACC,4BACC,wBAAIC,MAAM,OAAV,QAEA,2CACA,wBAAIA,MAAM,OAAV,iBAGF,+BACEH,EAAUI,KAAI,SAAAC,GAAQ,IACdC,EAAgCD,EAAhCC,IAAKC,EAA2BF,EAA3BE,QAASC,EAAkBH,EAAlBG,KAAMC,EAAYJ,EAAZI,QAC5B,OACC,wBAAIC,IAAKJ,GACR,wBAAIK,OAAO,QAAQC,YAAO,IAAIC,KAAKL,GAAO,iBAE1C,4BAAKD,GAEL,wBAAIO,MAAM,UACT,uBAAGC,OAAO,SAASC,IAAI,sBAAsBC,KAAMR,EAASS,MAAM,6BAhDxE,yBAAKC,MAAM,6BAA6BC,EAAE,MAAMC,EAAE,MAAMlB,MAAM,OAAOmB,OAAO,OAAOC,QAAQ,qBAC1F,2BACC,2BACC,0BACCC,EAAE,yQAIH,0BACCA,EAAE,qRAIH,0BACCA,EAAE,yRAYC,OAkCM,sBAAyB,IAAtBC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,KACnBC,EAAmBD,EAAnBC,KACAC,EADmBF,EAAbG,SACND,QACOE,EAAyDF,EAAhEV,MAAkBa,EAA8CH,EAA9CG,qBAAsB/B,EAAwB4B,EAAxB5B,UAI1CgC,GAJkEJ,EAAbK,SAEnDC,aAEYC,KAAKC,MAAML,IACnBM,EAAiBL,EAArBM,GAAYC,EAASP,EAATO,KAEdC,EAAgBL,KAAKC,MAAMpC,GAG7BmC,KAAKC,MAAMT,EAAKc,aAAaC,iBADhCC,WAAcC,IAGf,OACC,kBAAC,IAAD,CAAQnB,SAAUA,GACjB,kBAAC,IAAD,CAAKP,MAAOY,IACZ,6BAAS5B,UAAU,kBAClB,4BAAK4B,GAGJ/B,EAAuByC,GAGxB,6BAEA,kBAAC,OAAD,CAAMK,GAAE,UAAYR,GAApB,aAAyCE,MAMtC,IAAMO,EAAK","file":"component---src-templates-changelog-js-9a81a95e1d37bc81ff59.js","sourcesContent":["import React from 'react'\nimport { graphql, Link } from 'gatsby'\nimport { format } from 'date-fns'\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\nimport './changelog.scss'\n\nconst changesSvgIcon = () => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"16px\" height=\"16px\" viewBox=\"0 0 31.568 31.568\">\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M1.889,31.568h8.282V0H1.889V31.568z M4.021,2.958h4.016V9.65H4.021V2.958z M4.021,11.964h4.016v2.776H4.021V11.964z\n          M6.029,24.596c1.11,0,2.009,0.897,2.009,2.008c0,1.107-0.898,2.008-2.009,2.008c-1.108,0-2.007-0.9-2.007-2.008\n          C4.021,25.494,4.92,24.596,6.029,24.596z\"\n\t\t\t\t\t/>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M11.643,31.568h8.282V0h-8.282V31.568z M13.777,2.958h4.016V9.65h-4.016V2.958z M13.777,11.964h4.016v2.776h-4.016V11.964\n          z M15.784,24.596c1.11,0,2.009,0.897,2.009,2.008c0,1.107-0.898,2.008-2.009,2.008c-1.108,0-2.007-0.9-2.007-2.008\n          C13.777,25.494,14.676,24.596,15.784,24.596z\"\n\t\t\t\t\t/>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M21.397,0v31.568h8.282V0H21.397z M25.539,28.611c-1.108,0-2.008-0.9-2.008-2.008c0-1.11,0.898-2.008,2.008-2.008\n          c1.11,0,2.009,0.897,2.009,2.008C27.548,27.711,26.648,28.611,25.539,28.611z M27.548,14.74h-4.017v-2.776h4.017V14.74z\n          M27.548,9.651h-4.017V2.958h4.017V9.651z\"\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</svg>\n\t)\n}\n\nconst getChangelogTabulation = changelog => {\n\tif (!changelog.length) {\n\t\treturn null\n\t}\n\treturn (\n\t\t<table className=\"compact\">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th width=\"100\">Date</th>\n\n\t\t\t\t\t<th>Description</th>\n\t\t\t\t\t<th width=\"100\">See Changes</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{changelog.map(log => {\n\t\t\t\t\tconst { sha, message, date, htmlUrl } = log\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<tr key={sha}>\n\t\t\t\t\t\t\t<td nowrap=\"true\">{format(new Date(date), 'MMM dd, yyyy')}</td>\n\n\t\t\t\t\t\t\t<td>{message}</td>\n\n\t\t\t\t\t\t\t<td align=\"center\">\n\t\t\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={htmlUrl} title=\"See all changes in commit\">\n\t\t\t\t\t\t\t\t\t{changesSvgIcon()}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</tbody>\n\t\t</table>\n\t)\n}\n\nexport default ({ location, data }) => {\n\tconst { site, sitePage } = data\n\tconst { context } = sitePage\n\tconst { title: pageTitle, fastmatterAttributes, changelog, fileName } = context\n\n\tconst { relativePath: ruleMarkdownFileName } = fileName\n\n\tconst frontmatter = JSON.parse(fastmatterAttributes)\n\tconst { id: ruleId, name } = frontmatter\n\n\tconst ruleChangelog = JSON.parse(changelog)\n\tconst {\n\t\trepository: { url: actRulesRepoUrl },\n\t} = JSON.parse(site.siteMetadata.actRulesPackage)\n\n\treturn (\n\t\t<Layout location={location}>\n\t\t\t<SEO title={pageTitle} />\n\t\t\t<section className=\"page-changelog\">\n\t\t\t\t<h1>{pageTitle}</h1>\n\n\t\t\t\t{/* changelog */}\n\t\t\t\t{getChangelogTabulation(ruleChangelog, actRulesRepoUrl, `_rules/${ruleMarkdownFileName}`)}\n\n\t\t\t\t{/* backlink to rule */}\n\t\t\t\t<br />\n\n\t\t\t\t<Link to={`/rules/${ruleId}`}>See Rule: {name}</Link>\n\t\t\t</section>\n\t\t</Layout>\n\t)\n}\n\nexport const query = graphql`\n\tquery($path: String!) {\n\t\tsitePage(path: { eq: $path }) {\n\t\t\tcontext {\n\t\t\t\tslug\n\t\t\t\ttitle\n\t\t\t\tchangelog\n\t\t\t\tfastmatterAttributes\n\t\t\t\tfileName {\n\t\t\t\t\trelativePath\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsite {\n\t\t\tsiteMetadata {\n\t\t\t\tactRulesPackage\n\t\t\t}\n\t\t}\n\t}\n`\n"],"sourceRoot":""}